{"ast":null,"code":"var _jsxFileName = \"D:\\\\TYProj\\\\NutriScan\\\\client\\\\src\\\\pages\\\\Upload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"../services/axios\";\nimport { Clipboard } from 'lucide-react'; // ✅ For icons\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Upload = () => {\n  _s();\n  const [image, setImage] = useState(null); // Store the image file\n  const [fileName, setFileName] = useState('');\n  const [preview, setPreview] = useState(null);\n  const [processing, setProcessing] = useState(false);\n  const fileInputRef = useRef();\n  const navigate = useNavigate();\n\n  // ✅ Handle Drag and Drop\n  const handleDrop = e => {\n    e.preventDefault();\n    const file = e.dataTransfer.files[0];\n    if (file) handleFile(file);\n  };\n\n  // ✅ Handle File Selection\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) handleFile(file);\n  };\n\n  // ✅ Handle File Paste\n  const handlePaste = e => {\n    const items = (e.clipboardData || e.originalEvent.clipboardData).items;\n    for (const item of items) {\n      if (item.kind === 'file') {\n        const file = item.getAsFile();\n        if (file) handleFile(file);\n      }\n    }\n  };\n\n  // ✅ Handle File from Clipboard using Clipboard API\n  const handlePasteFromClipboard = async () => {\n    try {\n      const clipboardItems = await navigator.clipboard.read();\n      for (const item of clipboardItems) {\n        for (const type of item.types) {\n          if (type.startsWith('image/')) {\n            const blob = await item.getType(type);\n            const file = new File([blob], 'pasted-image.png', {\n              type\n            });\n            handleFile(file);\n            return;\n          }\n        }\n      }\n      alert('No image found in clipboard!');\n    } catch (error) {\n      console.error('Error reading from clipboard:', error);\n      alert('Clipboard access not supported or permission denied!');\n    }\n  };\n\n  // ✅ Handle File\n  const handleFile = file => {\n    if (file) {\n      setImage(file);\n      setPreview(URL.createObjectURL(file));\n      setFileName(file.name);\n    }\n  };\n\n  // ✅ Handle Upload\n  const handleUpload = async () => {\n    setProcessing(true);\n    try {\n      // Create FormData to send the image as a file\n      const formData = new FormData();\n      formData.append(\"image\", image); // Append the actual file to FormData with the correct key\n\n      // Send the image to the backend's prediction route\n      const res = await axios.post(\"/api/predict\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n\n      // Simulate buffer time for the result to be processed\n      setTimeout(() => {\n        navigate(\"/result\", {\n          state: res.data\n        });\n      }, 3000); // simulate buffer time\n    } catch (err) {\n      console.error(\"Upload failed:\", err);\n      setProcessing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 flex flex-col justify-center items-center px-4\",\n    onDrop: handleDrop,\n    onDragOver: e => e.preventDefault(),\n    onPaste: handlePaste // ✅ Handle paste event\n    ,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-blue-600 mb-4\",\n      children: \"Upload Your Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-2 border-dashed border-gray-400 rounded-md p-6 w-80 text-center cursor-pointer relative\",\n      onClick: () => fileInputRef.current.click(),\n      children: [preview ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: preview,\n          alt: \"Preview\",\n          className: \"w-40 h-40 object-cover mx-auto rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 mt-2\",\n          children: \"Click to change\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: [\"Drag & drop, \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold\",\n          children: \"paste\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 26\n        }, this), \", or click to select an image\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"fileInput\",\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: handleFileChange,\n        className: \"hidden\",\n        ref: fileInputRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePasteFromClipboard,\n        className: \"absolute bottom-2 left-2 bg-gray-200 p-2 rounded-full hover:bg-gray-300 transition\",\n        title: \"Paste from clipboard\",\n        children: /*#__PURE__*/_jsxDEV(Clipboard, {\n          className: \"w-5 h-5 text-gray-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), fileName && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600 mt-2\",\n      children: [\"Uploaded: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: fileName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }, this), image && !processing && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      className: \"mt-6 bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition\",\n      children: \"Analyze Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this), processing && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-6 text-blue-600 font-semibold animate-pulse\",\n      children: \"Processing your image...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(Upload, \"NlvPMCR3G74eFZCrOacV9cnCKtI=\", false, function () {\n  return [useNavigate];\n});\n_c = Upload;\nexport default Upload;\n\n// import React, { useRef, useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import axios from \"../services/axios\";\n\n// const Upload = () => {\n//   const [image, setImage] = useState(null); // Store the image file\n//   const [processing, setProcessing] = useState(false);\n//   const fileInputRef = useRef();\n//   const navigate = useNavigate();\n\n//   const handleImage = (file) => {\n//     setImage(file); // Store the file itself, not the base64 string\n//   };\n\n//   const handleDrop = (e) => {\n//     e.preventDefault();\n//     const file = e.dataTransfer.files[0];\n//     if (file) handleImage(file);\n//   };\n\n//   const handlePaste = (e) => {\n//     const item = e.clipboardData.items[0];\n//     if (item && item.type.includes(\"image\")) {\n//       const file = item.getAsFile();\n//       handleImage(file);\n//     }\n//   };\n\n//   const handleUpload = async () => {\n//     setProcessing(true);\n//     try {\n//       // Create FormData to send the image as a file\n//       const formData = new FormData();\n//       formData.append(\"image\", image); // Append the actual file to FormData with the correct key\n\n//       // Send the image to the backend's prediction route\n//       const res = await axios.post(\"/api/predict\", formData, {\n//         headers: {\n//           \"Content-Type\": \"multipart/form-data\",\n//         },\n//       });\n\n//       // Simulate buffer time for the result to be processed\n//       setTimeout(() => {\n//         navigate(\"/result\", { state: res.data });\n//       }, 3000); // simulate buffer time\n\n//     } catch (err) {\n//       console.error(\"Upload failed:\", err);\n//       setProcessing(false);\n//     }\n//   };\n\n//   return (\n//     <div\n//       className=\"min-h-screen bg-gray-50 flex flex-col justify-center items-center px-4\"\n//       onDrop={handleDrop}\n//       onDragOver={(e) => e.preventDefault()}\n//       onPaste={handlePaste}\n//     >\n//       <h1 className=\"text-3xl font-bold text-blue-600 mb-4\">\n//         Upload Your Image\n//       </h1>\n\n//       {!image && (\n//         <div\n//           onClick={() => fileInputRef.current.click()}\n//           className=\"w-full max-w-md h-60 border-2 border-dashed border-blue-300 rounded-xl flex items-center justify-center text-blue-500 cursor-pointer bg-white hover:shadow-md transition\"\n//         >\n//           Drag & Drop, Paste, or Click to Upload Image\n//         </div>\n//       )}\n\n//       {image && (\n//         <div className=\"w-full max-w-md mt-4 flex flex-col items-center\">\n//           <img\n//             src={URL.createObjectURL(image)} // Show the image preview from the file object\n//             alt=\"Preview\"\n//             className=\"w-full rounded-md shadow-md\"\n//           />\n//           <button\n//             onClick={() => setImage(null)}\n//             className=\"mt-2 text-sm text-red-500 underline\"\n//           >\n//             Remove Image\n//           </button>\n//         </div>\n//       )}\n\n//       <input\n//         type=\"file\"\n//         accept=\"image/*\"\n//         hidden\n//         ref={fileInputRef}\n//         onChange={(e) => handleImage(e.target.files[0])}\n//       />\n\n//       {image && !processing && (\n//         <button\n//           onClick={handleUpload}\n//           className=\"mt-6 bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition\"\n//         >\n//           Analyze Image\n//         </button>\n//       )}\n\n//       {processing && (\n//         <p className=\"mt-6 text-blue-600 font-semibold animate-pulse\">\n//           Processing your image...\n//         </p>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Upload;\nvar _c;\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["React","useRef","useState","useNavigate","axios","Clipboard","jsxDEV","_jsxDEV","Upload","_s","image","setImage","fileName","setFileName","preview","setPreview","processing","setProcessing","fileInputRef","navigate","handleDrop","e","preventDefault","file","dataTransfer","files","handleFile","handleFileChange","target","handlePaste","items","clipboardData","originalEvent","item","kind","getAsFile","handlePasteFromClipboard","clipboardItems","navigator","clipboard","read","type","types","startsWith","blob","getType","File","alert","error","console","URL","createObjectURL","name","handleUpload","formData","FormData","append","res","post","headers","setTimeout","state","data","err","className","onDrop","onDragOver","onPaste","children","_jsxFileName","lineNumber","columnNumber","onClick","current","click","src","alt","id","accept","onChange","ref","title","_c","$RefreshReg$"],"sources":["D:/TYProj/NutriScan/client/src/pages/Upload.jsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"../services/axios\";\r\nimport { Clipboard } from 'lucide-react'; // ✅ For icons\r\n\r\nconst Upload = () => {\r\n  const [image, setImage] = useState(null); // Store the image file\r\n  const [fileName, setFileName] = useState('');\r\n  const [preview, setPreview] = useState(null);\r\n  const [processing, setProcessing] = useState(false);\r\n  const fileInputRef = useRef();\r\n  const navigate = useNavigate();\r\n\r\n  // ✅ Handle Drag and Drop\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    const file = e.dataTransfer.files[0];\r\n    if (file) handleFile(file);\r\n  };\r\n\r\n  // ✅ Handle File Selection\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) handleFile(file);\r\n  };\r\n\r\n  // ✅ Handle File Paste\r\n  const handlePaste = (e) => {\r\n    const items = (e.clipboardData || e.originalEvent.clipboardData).items;\r\n    for (const item of items) {\r\n      if (item.kind === 'file') {\r\n        const file = item.getAsFile();\r\n        if (file) handleFile(file);\r\n      }\r\n    }\r\n  };\r\n\r\n  // ✅ Handle File from Clipboard using Clipboard API\r\n  const handlePasteFromClipboard = async () => {\r\n    try {\r\n      const clipboardItems = await navigator.clipboard.read();\r\n      for (const item of clipboardItems) {\r\n        for (const type of item.types) {\r\n          if (type.startsWith('image/')) {\r\n            const blob = await item.getType(type);\r\n            const file = new File([blob], 'pasted-image.png', { type });\r\n            handleFile(file);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      alert('No image found in clipboard!');\r\n    } catch (error) {\r\n      console.error('Error reading from clipboard:', error);\r\n      alert('Clipboard access not supported or permission denied!');\r\n    }\r\n  };\r\n\r\n  // ✅ Handle File\r\n  const handleFile = (file) => {\r\n    if (file) {\r\n      setImage(file);\r\n      setPreview(URL.createObjectURL(file));\r\n      setFileName(file.name);\r\n    }\r\n  };\r\n\r\n  // ✅ Handle Upload\r\n  const handleUpload = async () => {\r\n    setProcessing(true);\r\n    try {\r\n      // Create FormData to send the image as a file\r\n      const formData = new FormData();\r\n      formData.append(\"image\", image); // Append the actual file to FormData with the correct key\r\n\r\n      // Send the image to the backend's prediction route\r\n      const res = await axios.post(\"/api/predict\", formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      });\r\n\r\n      // Simulate buffer time for the result to be processed\r\n      setTimeout(() => {\r\n        navigate(\"/result\", { state: res.data });\r\n      }, 3000); // simulate buffer time\r\n\r\n    } catch (err) {\r\n      console.error(\"Upload failed:\", err);\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"min-h-screen bg-gray-50 flex flex-col justify-center items-center px-4\"\r\n      onDrop={handleDrop}\r\n      onDragOver={(e) => e.preventDefault()}\r\n      onPaste={handlePaste} // ✅ Handle paste event\r\n    >\r\n      <h1 className=\"text-3xl font-bold text-blue-600 mb-4\">\r\n        Upload Your Image\r\n      </h1>\r\n\r\n      {/* ✅ Drag and Drop Box */}\r\n      <div\r\n        className=\"border-2 border-dashed border-gray-400 rounded-md p-6 w-80 text-center cursor-pointer relative\"\r\n        onClick={() => fileInputRef.current.click()}\r\n      >\r\n        {preview ? (\r\n          <div className=\"relative\">\r\n            {/* ✅ Image Preview */}\r\n            <img\r\n              src={preview}\r\n              alt=\"Preview\"\r\n              className=\"w-40 h-40 object-cover mx-auto rounded\"\r\n            />\r\n            {/* ✅ Click to change */}\r\n            <p className=\"text-gray-500 mt-2\">Click to change</p>\r\n          </div>\r\n        ) : (\r\n          <p className=\"text-gray-500\">\r\n            Drag & drop, <span className=\"font-semibold\">paste</span>, or click to select an image\r\n          </p>\r\n        )}\r\n\r\n        {/* ✅ Hidden File Input */}\r\n        <input\r\n          id=\"fileInput\"\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={handleFileChange}\r\n          className=\"hidden\"\r\n          ref={fileInputRef}\r\n        />\r\n\r\n        {/* ✅ Paste Icon Inside Drag and Drop */}\r\n        <button\r\n          onClick={handlePasteFromClipboard}\r\n          className=\"absolute bottom-2 left-2 bg-gray-200 p-2 rounded-full hover:bg-gray-300 transition\"\r\n          title=\"Paste from clipboard\"\r\n        >\r\n          <Clipboard className=\"w-5 h-5 text-gray-600\" />\r\n        </button>\r\n      </div>\r\n\r\n      {/* ✅ File Name */}\r\n      {fileName && (\r\n        <p className=\"text-gray-600 mt-2\">\r\n          Uploaded: <strong>{fileName}</strong>\r\n        </p>\r\n      )}\r\n\r\n      {image && !processing && (\r\n        <button\r\n          onClick={handleUpload}\r\n          className=\"mt-6 bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition\"\r\n        >\r\n          Analyze Image\r\n        </button>\r\n      )}\r\n\r\n      {processing && (\r\n        <p className=\"mt-6 text-blue-600 font-semibold animate-pulse\">\r\n          Processing your image...\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Upload;\r\n\r\n\r\n// import React, { useRef, useState } from \"react\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n// import axios from \"../services/axios\";\r\n\r\n// const Upload = () => {\r\n//   const [image, setImage] = useState(null); // Store the image file\r\n//   const [processing, setProcessing] = useState(false);\r\n//   const fileInputRef = useRef();\r\n//   const navigate = useNavigate();\r\n\r\n//   const handleImage = (file) => {\r\n//     setImage(file); // Store the file itself, not the base64 string\r\n//   };\r\n\r\n//   const handleDrop = (e) => {\r\n//     e.preventDefault();\r\n//     const file = e.dataTransfer.files[0];\r\n//     if (file) handleImage(file);\r\n//   };\r\n\r\n//   const handlePaste = (e) => {\r\n//     const item = e.clipboardData.items[0];\r\n//     if (item && item.type.includes(\"image\")) {\r\n//       const file = item.getAsFile();\r\n//       handleImage(file);\r\n//     }\r\n//   };\r\n\r\n//   const handleUpload = async () => {\r\n//     setProcessing(true);\r\n//     try {\r\n//       // Create FormData to send the image as a file\r\n//       const formData = new FormData();\r\n//       formData.append(\"image\", image); // Append the actual file to FormData with the correct key\r\n\r\n//       // Send the image to the backend's prediction route\r\n//       const res = await axios.post(\"/api/predict\", formData, {\r\n//         headers: {\r\n//           \"Content-Type\": \"multipart/form-data\",\r\n//         },\r\n//       });\r\n\r\n//       // Simulate buffer time for the result to be processed\r\n//       setTimeout(() => {\r\n//         navigate(\"/result\", { state: res.data });\r\n//       }, 3000); // simulate buffer time\r\n\r\n//     } catch (err) {\r\n//       console.error(\"Upload failed:\", err);\r\n//       setProcessing(false);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div\r\n//       className=\"min-h-screen bg-gray-50 flex flex-col justify-center items-center px-4\"\r\n//       onDrop={handleDrop}\r\n//       onDragOver={(e) => e.preventDefault()}\r\n//       onPaste={handlePaste}\r\n//     >\r\n//       <h1 className=\"text-3xl font-bold text-blue-600 mb-4\">\r\n//         Upload Your Image\r\n//       </h1>\r\n\r\n//       {!image && (\r\n//         <div\r\n//           onClick={() => fileInputRef.current.click()}\r\n//           className=\"w-full max-w-md h-60 border-2 border-dashed border-blue-300 rounded-xl flex items-center justify-center text-blue-500 cursor-pointer bg-white hover:shadow-md transition\"\r\n//         >\r\n//           Drag & Drop, Paste, or Click to Upload Image\r\n//         </div>\r\n//       )}\r\n\r\n//       {image && (\r\n//         <div className=\"w-full max-w-md mt-4 flex flex-col items-center\">\r\n//           <img\r\n//             src={URL.createObjectURL(image)} // Show the image preview from the file object\r\n//             alt=\"Preview\"\r\n//             className=\"w-full rounded-md shadow-md\"\r\n//           />\r\n//           <button\r\n//             onClick={() => setImage(null)}\r\n//             className=\"mt-2 text-sm text-red-500 underline\"\r\n//           >\r\n//             Remove Image\r\n//           </button>\r\n//         </div>\r\n//       )}\r\n\r\n//       <input\r\n//         type=\"file\"\r\n//         accept=\"image/*\"\r\n//         hidden\r\n//         ref={fileInputRef}\r\n//         onChange={(e) => handleImage(e.target.files[0])}\r\n//       />\r\n\r\n//       {image && !processing && (\r\n//         <button\r\n//           onClick={handleUpload}\r\n//           className=\"mt-6 bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition\"\r\n//         >\r\n//           Analyze Image\r\n//         </button>\r\n//       )}\r\n\r\n//       {processing && (\r\n//         <p className=\"mt-6 text-blue-600 font-semibold animate-pulse\">\r\n//           Processing your image...\r\n//         </p>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Upload;\r\n"],"mappings":"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AA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC9D,EAAA,CApKID,MAAM;EAAA,QAMOL,WAAW;AAAA;AAAA+E,EAAA,GANxB1E,MAAM;AAsKZ,eAAeA,MAAM;;AAGrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA,IAAA0E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}