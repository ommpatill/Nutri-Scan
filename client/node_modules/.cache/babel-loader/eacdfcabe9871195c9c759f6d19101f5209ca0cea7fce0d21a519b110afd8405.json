{"ast":null,"code":"var _jsxFileName = \"E:\\\\OM PATIL\\\\TY Project\\\\NutriScan\\\\NutriScan\\\\client\\\\src\\\\pages\\\\Recommendation.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst recommendations = [{\n  key: \"Vitamin A Deficiency\",\n  title: \"Vitamin A Deficiency\",\n  color: \"bg-orange-50\",\n  suggestions: [\"Eat carrots, spinach, sweet potatoes, and liver.\", \"Add more green leafy vegetables to your diet.\", \"Avoid excessive alcohol—it depletes Vitamin A.\", \"Include fortified dairy and egg yolks in meals.\"]\n}, {\n  key: \"Vitamin B12 Deficiency\",\n  title: \"Vitamin B12 Deficiency\",\n  color: \"bg-purple-50\",\n  suggestions: [\"Consume more fish, poultry, eggs, and milk.\", \"Consider B12 supplements if you're vegetarian.\", \"Avoid antacids—they interfere with absorption.\", \"Include fortified cereals and plant-based milk.\"]\n}, {\n  key: \"Vitamin D Deficiency\",\n  title: \"Vitamin D Deficiency\",\n  color: \"bg-yellow-50\",\n  suggestions: [\"Spend 15–20 mins in sunlight daily.\", \"Include oily fish like salmon and tuna.\", \"Consume fortified milk and orange juice.\", \"Take Vitamin D3 supplements if needed.\"]\n}, {\n  key: \"Zinc Deficiency\",\n  title: \"Zinc Deficiency\",\n  color: \"bg-blue-50\",\n  suggestions: [\"Eat shellfish, meat, beans, and nuts.\", \"Avoid excessive iron—it competes with zinc.\", \"Add dairy, whole grains, and pumpkin seeds.\", \"Limit alcohol intake—it hinders zinc absorption.\"]\n}];\nconst Recommendation = () => {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const navigate = useNavigate();\n  const deficiency = (state === null || state === void 0 ? void 0 : state.result) || (state === null || state === void 0 ? void 0 : state.deficiency);\n  const selected = recommendations.find(rec => rec.key.toLowerCase() === (deficiency === null || deficiency === void 0 ? void 0 : deficiency.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen px-4 py-10 bg-white text-gray-800\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-blue-700 text-center mb-10\",\n      children: \"Health Recommendation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), !selected ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-red-500 text-lg\",\n      children: [\"No recommendation available.\", \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/\"),\n        className: \"text-blue-600 underline ml-1\",\n        children: \"Go back to Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `rounded-xl shadow-md p-6 border ${selected.color}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-blue-800 mb-4\",\n          children: selected.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc pl-5 space-y-2 text-base\",\n          children: selected.suggestions.map((tip, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: tip\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(Recommendation, \"swtv2cUIBi1p5TRCrVajRailzpM=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Recommendation;\nexport default Recommendation;\n\n// import React, { useEffect, useState } from \"react\";\n// import { useLocation, useNavigate } from \"react-router-dom\";\n// import axios from \"../services/axios\"; // Ensure axios is set up correctly with headers and base URL\n\n// const Recommendation = () => {\n//   const navigate = useNavigate();\n//   const { state } = useLocation();\n//   const { result, confidence, image, age } = state || {}; // Use 'result' instead of 'deficiency'\n//   const [advice, setAdvice] = useState(\"\");\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     if (!result) {\n//       navigate(\"/\"); // Redirect if no result is passed\n//       return;\n//     }\n\n//     const fetchAdvice = async () => {\n//       try {\n//         // Construct payload correctly\n//         const payload = { deficiency: result }; // Use result instead of deficiency\n//         if (age) payload.age = age; // Include age if available\n\n//         // Set token for Authorization (assuming you have a token stored in localStorage)\n//         const token = localStorage.getItem(\"authToken\"); // Replace 'authToken' with the actual key where the token is stored\n\n//         // Send request to Gemini API\n//         const res = await axios.post(\"/api/gemini/recommend\", payload, {\n//           headers: {\n//             Authorization: `Bearer ${token}`, // Include token in Authorization header\n//             \"Content-Type\": \"application/json\",\n//           },\n//         });\n\n//         // Set response data or default message if no recommendation\n//         setAdvice(res.data.recommendation || \"No recommendation generated.\");\n//       } catch (err) {\n//         console.error(\"Failed to fetch recommendations\", err);\n//         setAdvice(\"Could not fetch recommendations.\");\n//       } finally {\n//         setLoading(false);\n//       }\n//     };\n\n//     fetchAdvice();\n//   }, [result, age, navigate]); // Depend on 'result' instead of 'deficiency'\n\n//   return (\n//     <div className=\"min-h-screen bg-white py-10 px-6 flex flex-col items-center\">\n//       <h2 className=\"text-3xl font-bold text-blue-600 mb-6 text-center\">\n//         Personalized Recommendations\n//       </h2>\n\n//       <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-6 max-w-2xl w-full shadow-md mb-6\">\n//         <p className=\"text-lg text-gray-800 mb-2\">\n//           <strong>Deficiency:</strong>{\" \"}\n//           <span className=\"text-blue-700 font-semibold\">{result}</span>\n//         </p>\n//         <p className=\"text-lg text-gray-800\">\n//           <strong>Confidence Score:</strong>{\" \"}\n//           <span className=\"text-green-600 font-semibold\">{confidence}</span>\n//         </p>\n//       </div>\n\n//       {image && (\n//         <div className=\"max-w-2xl w-full mb-6\">\n//           <img\n//             src={image}\n//             alt=\"Uploaded image\"\n//             className=\"rounded-xl border shadow object-cover max-h-[400px] w-full\"\n//           />\n//         </div>\n//       )}\n\n//       <div className=\"max-w-2xl w-full bg-white border border-gray-200 p-6 rounded-xl shadow-sm\">\n//         <h3 className=\"text-xl font-semibold mb-3 text-blue-700\">\n//           AI-Generated Suggestions:\n//         </h3>\n//         {loading ? (\n//           <p className=\"text-blue-500 animate-pulse\">Generating tips...</p>\n//         ) : (\n//           <div className=\"text-gray-800 whitespace-pre-line leading-relaxed\">\n//             {advice}\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Recommendation;\nvar _c;\n$RefreshReg$(_c, \"Recommendation\");","map":{"version":3,"names":["React","useLocation","useNavigate","jsxDEV","_jsxDEV","recommendations","key","title","color","suggestions","Recommendation","_s","state","navigate","deficiency","result","selected","find","rec","toLowerCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","tip","i","_c","$RefreshReg$"],"sources":["E:/OM PATIL/TY Project/NutriScan/NutriScan/client/src/pages/Recommendation.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\nconst recommendations = [\r\n  {\r\n    key: \"Vitamin A Deficiency\",\r\n    title: \"Vitamin A Deficiency\",\r\n    color: \"bg-orange-50\",\r\n    suggestions: [\r\n      \"Eat carrots, spinach, sweet potatoes, and liver.\",\r\n      \"Add more green leafy vegetables to your diet.\",\r\n      \"Avoid excessive alcohol—it depletes Vitamin A.\",\r\n      \"Include fortified dairy and egg yolks in meals.\",\r\n    ],\r\n  },\r\n  {\r\n    key: \"Vitamin B12 Deficiency\",\r\n    title: \"Vitamin B12 Deficiency\",\r\n    color: \"bg-purple-50\",\r\n    suggestions: [\r\n      \"Consume more fish, poultry, eggs, and milk.\",\r\n      \"Consider B12 supplements if you're vegetarian.\",\r\n      \"Avoid antacids—they interfere with absorption.\",\r\n      \"Include fortified cereals and plant-based milk.\",\r\n    ],\r\n  },\r\n  {\r\n    key: \"Vitamin D Deficiency\",\r\n    title: \"Vitamin D Deficiency\",\r\n    color: \"bg-yellow-50\",\r\n    suggestions: [\r\n      \"Spend 15–20 mins in sunlight daily.\",\r\n      \"Include oily fish like salmon and tuna.\",\r\n      \"Consume fortified milk and orange juice.\",\r\n      \"Take Vitamin D3 supplements if needed.\",\r\n    ],\r\n  },\r\n  {\r\n    key: \"Zinc Deficiency\",\r\n    title: \"Zinc Deficiency\",\r\n    color: \"bg-blue-50\",\r\n    suggestions: [\r\n      \"Eat shellfish, meat, beans, and nuts.\",\r\n      \"Avoid excessive iron—it competes with zinc.\",\r\n      \"Add dairy, whole grains, and pumpkin seeds.\",\r\n      \"Limit alcohol intake—it hinders zinc absorption.\",\r\n    ],\r\n  },\r\n];\r\n\r\nconst Recommendation = () => {\r\n  const { state } = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const deficiency = state?.result || state?.deficiency;\r\n\r\n  const selected = recommendations.find(\r\n    (rec) => rec.key.toLowerCase() === deficiency?.toLowerCase()\r\n  );\r\n\r\n  return (\r\n    <div className=\"min-h-screen px-4 py-10 bg-white text-gray-800\">\r\n      <h1 className=\"text-3xl font-bold text-blue-700 text-center mb-10\">\r\n        Health Recommendation\r\n      </h1>\r\n\r\n      {!selected ? (\r\n        <div className=\"text-center text-red-500 text-lg\">\r\n          No recommendation available.{\" \"}\r\n          <button\r\n            onClick={() => navigate(\"/\")}\r\n            className=\"text-blue-600 underline ml-1\"\r\n          >\r\n            Go back to Home\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div className=\"max-w-3xl mx-auto\">\r\n          <div\r\n            className={`rounded-xl shadow-md p-6 border ${selected.color}`}\r\n          >\r\n            <h2 className=\"text-xl font-semibold text-blue-800 mb-4\">\r\n              {selected.title}\r\n            </h2>\r\n            <ul className=\"list-disc pl-5 space-y-2 text-base\">\r\n              {selected.suggestions.map((tip, i) => (\r\n                <li key={i}>{tip}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Recommendation;\r\n\r\n\r\n\r\n// import React, { useEffect, useState } from \"react\";\r\n// import { useLocation, useNavigate } from \"react-router-dom\";\r\n// import axios from \"../services/axios\"; // Ensure axios is set up correctly with headers and base URL\r\n\r\n// const Recommendation = () => {\r\n//   const navigate = useNavigate();\r\n//   const { state } = useLocation();\r\n//   const { result, confidence, image, age } = state || {}; // Use 'result' instead of 'deficiency'\r\n//   const [advice, setAdvice] = useState(\"\");\r\n//   const [loading, setLoading] = useState(true);\r\n\r\n//   useEffect(() => {\r\n//     if (!result) {\r\n//       navigate(\"/\"); // Redirect if no result is passed\r\n//       return;\r\n//     }\r\n\r\n//     const fetchAdvice = async () => {\r\n//       try {\r\n//         // Construct payload correctly\r\n//         const payload = { deficiency: result }; // Use result instead of deficiency\r\n//         if (age) payload.age = age; // Include age if available\r\n\r\n//         // Set token for Authorization (assuming you have a token stored in localStorage)\r\n//         const token = localStorage.getItem(\"authToken\"); // Replace 'authToken' with the actual key where the token is stored\r\n\r\n//         // Send request to Gemini API\r\n//         const res = await axios.post(\"/api/gemini/recommend\", payload, {\r\n//           headers: {\r\n//             Authorization: `Bearer ${token}`, // Include token in Authorization header\r\n//             \"Content-Type\": \"application/json\",\r\n//           },\r\n//         });\r\n\r\n//         // Set response data or default message if no recommendation\r\n//         setAdvice(res.data.recommendation || \"No recommendation generated.\");\r\n//       } catch (err) {\r\n//         console.error(\"Failed to fetch recommendations\", err);\r\n//         setAdvice(\"Could not fetch recommendations.\");\r\n//       } finally {\r\n//         setLoading(false);\r\n//       }\r\n//     };\r\n\r\n//     fetchAdvice();\r\n//   }, [result, age, navigate]); // Depend on 'result' instead of 'deficiency'\r\n\r\n//   return (\r\n//     <div className=\"min-h-screen bg-white py-10 px-6 flex flex-col items-center\">\r\n//       <h2 className=\"text-3xl font-bold text-blue-600 mb-6 text-center\">\r\n//         Personalized Recommendations\r\n//       </h2>\r\n\r\n//       <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-6 max-w-2xl w-full shadow-md mb-6\">\r\n//         <p className=\"text-lg text-gray-800 mb-2\">\r\n//           <strong>Deficiency:</strong>{\" \"}\r\n//           <span className=\"text-blue-700 font-semibold\">{result}</span>\r\n//         </p>\r\n//         <p className=\"text-lg text-gray-800\">\r\n//           <strong>Confidence Score:</strong>{\" \"}\r\n//           <span className=\"text-green-600 font-semibold\">{confidence}</span>\r\n//         </p>\r\n//       </div>\r\n\r\n//       {image && (\r\n//         <div className=\"max-w-2xl w-full mb-6\">\r\n//           <img\r\n//             src={image}\r\n//             alt=\"Uploaded image\"\r\n//             className=\"rounded-xl border shadow object-cover max-h-[400px] w-full\"\r\n//           />\r\n//         </div>\r\n//       )}\r\n\r\n//       <div className=\"max-w-2xl w-full bg-white border border-gray-200 p-6 rounded-xl shadow-sm\">\r\n//         <h3 className=\"text-xl font-semibold mb-3 text-blue-700\">\r\n//           AI-Generated Suggestions:\r\n//         </h3>\r\n//         {loading ? (\r\n//           <p className=\"text-blue-500 animate-pulse\">Generating tips...</p>\r\n//         ) : (\r\n//           <div className=\"text-gray-800 whitespace-pre-line leading-relaxed\">\r\n//             {advice}\r\n//           </div>\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Recommendation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}